# ============================================================
# Swastik MCP — Backend Environment Variables
# ============================================================
# Copy this file to .env and fill in your values.
# NEVER commit .env to git (it is already in .gitignore).

# ── Server ────────────────────────────────────────────────
# Port for the Express API server.
# ⚠  PORT INVARIANT: local dev must always use 3939.
#    Production (Render) overrides this with its own PORT env.
PORT=3939

# Public base URL for this backend (used by MCP launch endpoint
# to return the correct mcpUrl to clients). Only needed in prod.
# Example: https://swastik-mcp-backend.onrender.com
PUBLIC_API_BASE_URL=

# ── Firebase Admin SDK ────────────────────────────────────
# Option A — path to a service account JSON file
#   Download from: Firebase Console → Project Settings → Service Accounts
#   → Generate New Private Key
FIREBASE_SERVICE_ACCOUNT_PATH=

# Option B — raw JSON (useful for Render/CI env vars; copy the entire
#   service-account JSON as a single-line value)
FIREBASE_SERVICE_ACCOUNT_JSON=

# Firebase project ID (required regardless of option A/B)
FIREBASE_PROJECT_ID=

# ── Sync ─────────────────────────────────────────────────
# How often (ms) the sync job polls for changes.  Default: 60000
SYNC_INTERVAL_MS=60000

# ── Device / Agent ────────────────────────────────────────
# Used by the local agent process (agent/) — not the server.
MCP_API_URL=http://localhost:3939/api
DEVICE_ID=

# Agent shared-secret auth (must match agent/.env or backend/.env for local agent calls)
AGENT_SECRET=

# Telegram/admin control (used by /api/admin/* and /api/health/telegram)
BACKEND_ADMIN_SECRET=
TELEGRAM_ADMIN_CHAT_IDS=
TELEGRAM_VIEWER_CHAT_IDS=
TELEGRAM_ALLOWED_CHAT_IDS=
TELEGRAM_OWNER_CHAT_ID=

# Render restart options (owner-only command flow)
# Process exits on /api/admin/restart and Render restarts the service automatically.
ALLOW_PROCESS_SELF_RESTART=true

# ── AI / LLM API Keys ─────────────────────────────────────
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
GOOGLE_AI_API_KEY=

# ── Node env ─────────────────────────────────────────────
# Set to "production" on Render; leave blank or "development" locally.
NODE_ENV=development
